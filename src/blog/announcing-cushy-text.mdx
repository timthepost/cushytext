---
title: "Meet Cushy Text: An Infima Content Theme For Lume 3!"
date: 2025-03-03
author: Tim Post
draft: false
layout: layouts/post.vto
menu:
  visible: true
tags:
  - announcements
  - v0.0.1
metas:
  lang: en
  description: An announcement of Cushy Text - A Lume theme designed specifically to suit the needs of content-rich websites.
  tags:
    - Static Site Generators
    - Lume Themes
    - Infima Theme For Lume
    - Static blog generator
    - Static documentation generator
  image: /uploads/announcing-cushy-text.jpg
  robots: true
  generator: true
---

There's a great Lume theme for pretty much every occasion now: building a wiki, starting 
a blog, promoting an event, publishing an ebook, sharing research - and  they're _all_ 
fantastic. I learned a lot about strategy when it comes to generating sites intelligently
by studying and using them.

There's always been something missing, though: a theme that lets me do _all_ of that in 
a cohesive way with unified search that doesn't feel all duct-taped together. I wanted
to be able to generate docs from many small collections of markdown files, run multiple
blog instances, build content and landing pages and have interactive features that take 
advantage of Deno, Deno Deploy & Lume 3's Router.

<img class="blog_image" 
  src="/uploads/announcing-cushy-text.jpg" 
  alt="A dreamy cloudscape with a flame shaped cloud spark in the middle" 
  title="A Dreamy Text Template For Lume 3" />

So, I created one! And, I named it Cushy Text!

{/* more */}

## Multi-Instance / Multi-Archetype But Central Search Design

The theme allows you to run multiple independent blogs with the ability to separate
tags out from between them, but all sharing a common archive and author page. This
is accomplished through directory-level configuration and the use of special keys 
I call waypoints. Let's look at the `_data.yml` from [this site's blog instance](/blog/):

```yml
layout: layouts/post.vto
# Name this descriptively. It could be %minecraft-blog%, or %recipe-blog%.
# It's the anchor you'll use to include content from this directory.
waypoint: "%blog%"
tags: []

blog:
  # This must match the directory the blog files are in.
  basedir: /blog/
  title: Cushy Text Blog
  # This sets how many posts to show in the nav / blog index
  recent: 5
```

This (among setting some base values) tells every page what layout to use, and 
to assign itself a key called a `waypoint` that is used behind the scenes to 
scope, include or exclude each blog or documentation instance from search,
navigation, feeds and more. 

I just called this one `%blog%` for simplicity; it could have just as easily been 
`%main-blog%`, or `%opinions%`, or even `%shitposts%` if I'm really being honest 
with myself. All that matters is it becomes a friendly, unique way to scope content 
_in that directory_.

Why the `%`? Why `%foo%` and not just `foo`? Because it allows for easy
visual distinction between actual tags and other values that tend to 
stack up in page search query strings. Nothing in the code enforces using
`%`, just make sure you can spot a waypoint from a tag easily.

Also, the `blog:` key is what actually turns on the archetype, with `blog.basedir`
being the most important setting in this example.

To control how feeds work, see `plugins.ts` (below is what's live on this site):

```js
  .use(feed({ output: ["/feed.xml", "/feed.json"], query: "waypoint=%blog%" }))
  .use(feed({ output: ["/docs/feed.xml", "/docs/feed.json"], query: "waypoint=%docs%" }))
```

As long as each separate blog and documentation folder has a unique waypoint,
you can build navigation and search any way you like!

Speaking of documentation ..

## Basic Docs/Wiki Archetype Built-In!

You can [drop a bunch of markdown in a folder](/docs/), and add this `_data.yml` at the 
top level:

```yml
layout: layouts/docs.vto
# It could be %api-docs% or %quickstart% or whatever you want.
# This is how you'll grab content from this directory in searches / nav
waypoint: "%docs%"

docs:
  # This should match the folder the docs are in.
  basedir: /docs/
  title: Documentation Home
  # Right now auto is the only option. A way to pass a custom sidebar
  # is planned at some point.
  sidebar: auto
```

Think of it like a very light version of a blog that generates its own sidebar based on 
the directory. It will soon support custom sidebars and more complex nesting. I really
like using one theme for everything, in a way that feels planned instead of bolted together.

Again, I picked `%docs%` just because I'm lazy. It could have been `%theme-docs%`, or 
`%api-docs%`, however you want to 'grab' it when you build nav, feeds and content.

## Interactive Features Included

Because Lume 3's router middleware makes form handling so convenient, and because DenoKV
is zero configuration on Deno Deploy and falls back to Sqlite3 locally, it's easy to ship
interactive features that "just work" without configuration.

You'll get a content rating system (_was this page helpful?_ kind of component) as well
as a contact form and submission handler.

More things may get added as a generally-available release nears.

It's time for static sites to liven things up a bit!

## Deno Deploy + Deno KV Required

Originally, I wanted to build an interactive theme that would conceivably work on any
host that offered Deno in some form (like Netlify), but two key things drove the decision
to just require Deno Deploy:

 - DenoKV solves all the dev / production issues surrounding interactive content, and, 
 - Lume 3 Middleware needs Deno to run _anyway_, so, 

I'm just going to focus development with the idea that we'll be running on Deploy. It would
not be hard to modify the default middleware that this theme comes with to use Postgres 
or even Redis, if you wanted to host on your own VPS or use Netlify edge functions.

## Component-Focused, But Not Strict 

Infima CSS has a lot of individual components that can easily be broken out into smaller
CSS files and small bits of helper Javascript so that they can be loaded only when needed. 
This aligns perfectly with Lume 3's re-designed components, and for brand new sites, you
get the satisfaction of knowing unused code never gets loaded.

If you use Infima and want to port existing markup over, that's fine too - you can use a 
version of the stylesheet that loads all of the component bits, so you can use the markup
anywhere. 

In all honesty it's splitting hairs, because it's only a few hundred lines of CSS and JS
combined, but _its the point, darn it!_

## Loaded Like A Baked Potato With Plugins

Apologies if you don't like potatoes. Cushy Text aims to ship with pre-configured plugins 
covering SEO, Content Optimization, Feeds, Engagement and More. The idea is to help you 
spend time writing and curating, not configuring plugins, unless you wanna.

I'm including my own SEO plugin that does static analysis checks of pages to make sure
things like lengths, common word densities, meta info and everything else is set as 
optimally as possible. 

## Responsive And Accessible

Infima is notorious for being easy to build responsive sites with. But I also want to go 
the extra mile and make sure it's optimized for screen readers, offers font alternatives 
like "Open Dyslexic", obeys user preferences for theme and motion and is easy to translate.

All of that's baked into goals from the start, even if it takes a few versions of massive
DOM reorganizations before we can say it's living up to it.
