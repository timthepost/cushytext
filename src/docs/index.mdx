---
title: Documentation Home
---

# Welcome to your documentation Index Page!

You'll probably want to replace this with something fancy. Also,
all those links? They exist to show you how auto generation works.

## A primer on how /docs sidebars currently work:

To start with, it doesn't have to be named `/docs`! It could be 
`/documentation` or whatever you like, or you can remove it completely.

What does matter is the `_data.yml` file that you place in the directory
with your documentation, which is what makes it all work:

`docs/_data.yml`: 

```yml
layout: layouts/docupage.vto
docs:
  basedir: /docs/
  title: Documentation Home
  sidebar: auto
```

Line by line, we have:

 - The template used to generate docs-style pages, which you can 
 modify in `src/_includes/layouts/docupage.vto`. 

 - `docs.basedir` sets the root of the documentation instance, which 
 is used to anchor the auto auto nav generation, among other things. This 
 should always match the directory that you use for documentation.s

 - The `docs.title` setting controls the top named anchor in the 
 nav. This is a temporary work-around while a smarter nav generator
 is being developed.

 - The  `docs.sidebar` setting controls whether the docs pages nav
 should be automatically generated. If it's set to `auto`, the nav
 will be automatically generated. Soon, this setting will allow you
 to pass a custom sidebar object.

As for the docs pages, the individual frontmatter settings that are most 
relevant to this archetype aren't in the `docs` space, but in the main 
page frontmatter:

```yml
order: 1
hidden: false
draft: false
```

 - `order` is numeric and controls which place the link should appear 
 in the nav.

 - `hidden` allows the page to be generated, but keeps it out of the
 generated nav.

 - `draft` does not generate the page at all unless `LUME_DRAFTS` is 
 set in the environment.

With these settings, you get an experience that's relatively close to 
other documentation generation themes. However, for right now: ***Any 
and all of this is subject to change, because the nav code is probably 
the most actively-moving target right now.*** Nav is one of those things 
that's easy to get 80% of the way through only to realize your approach 
is wrong and was never going to work to begin with. Ask me how I know 
sometime!

## Coming Soon: Auto TOC, Breadcrumbs, Next / Prev & Custom Sidebars

Use your own nav generator, or a static nav. More than likely, the 
sidebar setting will accept some kind of JSON format. 

Next and prev links aren't yet auto-generated. I'm thinking about 
using `site.search()` instead of the `Nav` plugin helper class
for almost everything _but_ breadcrumbs, because `nav.breadcrumbs()`
is extremely useful.

The docs archetype is the most complicated component of having the 
nav almost completely auto-generated everywhere, because docs have
complicated sidebar hierarchies that have to end up in the responsive
fly-out nav as a secondary menu.

So, the very first couple of releases probably won't have the custom
sidebar object handling yet, just because it's quite a symphony we 
have to conduct already, without that additional complication.

Anyway, once navigation works in the top menu as well as the sidebar,
navigation is basically done. That's the good part.

## Tags Will Work here

The main lifting for the site tag engine will be done by the 
`cushy-docs-conductor` plugin that's soaking in `src/_plugins/`. It 
will handle blog, pages, docs with the subtle differences they require.

Part of why we're implementing search in middleware is because we want
to be able to limit by tags and by content-type, e.g. blogs and docs
tagged `foo`, but exclude inner content `/pages`.

## Two Column Design 

Originally we had a 3-column left sidebar, a 6-column center content 
area, and then a 3-column right sidebar. That may be the "classic"
look, but ended up being a giant waste of space in this setting.

Because docs, blog and content pages all have to fold neatly into 
the responsive left-side nav, staying with two-columns and just 
having the TOC and Nav share the same sidebar made the most sense.

If you want to go back to three columns, you'll need to edit the 
template, and have it look something like this (and this is just
using Infama's [grid system](https://infima.dev/docs/layout/grid)):

```HTML
<div class="container">
    <div class="row">
        <div class="col-md-3">
            <!-- left nav goes here -->
        </div>
        <div class="col-md-6">
            <!-- content goes here -->
        </div>
        <div class="col-md-3">
            <!-- right nav goes here -->
        </div>
    </div>
</div>
```

Just remember, all the nav has to exist in the hamburger flyout too, 
which keeps things interesting.

You could also experiment with different sizes, just remember it
all has to add up to 12 columns. To make the content 8 columns, you'd
have to steal a column from both sidebars, for instance.

Once sort order is all ironed out, the top and hamburger navs will be 
auto generated, as well as the footer.

## Search 

Search will be global (just use `data-pagefind` as usual), but it will 
be powered by some middleware that uses the Pagefind API to get its 
own results, so it controls its own styles.

This was not by choice, I would have reather used Pagefind out of the box
without having to customize it, but its styles break the nav bar no 
matter what is done to shim it in. 