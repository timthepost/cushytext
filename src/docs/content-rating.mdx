---
title: The Content Rating Component
description: Which components are interactive, and how do they work?
metas:
  image: /docs/archetypes/index.png
menu:
  visible: true
  order: 7
---

# {title}

The content rating component actually consists of two components:

 1. The front-end form & survey component: `comp.feedback()`, and, 
 
 2. The (kinda) back-end admin component: `comp.feedbackAdmin()`. 

The first one produces the form that gathers the vote and optional 
feedback. It then saves the input to DenoKV (and / or Discord, soon,
along with other options).

The second adds a table that lets you manage the feedback (currently, 
delete).

## Content Usefulness Survey 

On the right-sidebar of every document page, you'll see a little widget
that lets you express how you feel about spending whatever time it took
to read that page.

That widget uses the Router middleware to process the form submission 
and insert the feedback into a DenoKV database, Discord channel, or 
anything else that can take input from a call to `fetch()`.

It submits to `yourdomain/api/feedback` via POST request and has a 
built-in honeypot. I'm currently investigating possible integrations
with privacy-respecting captcha services.

You can use it in a template like this:

```js
{{ await comp.feedback({ basename: url })}}
```
or in a MDX post (blog / docs) like this:

```js
<comp.feedback basename={url} />
```

The `basename` variable is used literally as _the base name_ of the key
that gets created to store the feedback entry. It's indexed by type, 
url. If using the redirects plugin, use the _oldest_ URL of the
group.

You're welcome to use it for the blog too! But perhaps make a copy of 
the plugin as `blogFeedback` and add another locale entry, so you can
have different CTAs, vote buttons, etc. 

## Local 'Admin' Component

Currently unfinished, `comp.feedbackAdmin()` lets you put an admin
area for the feedback wherever it's convenient for you. Could also be 
a page - Lume will treat any content with `draft=true` equally as far
as rendering goes.

It puts a container in the document that receives a table from a 
call to `fetch()` against a route which only works if `LUME_DRAFTS`
is set. So in a template, you could:

```js
{{ await comp.feedbackAdmin() }}
```

Or in MDX:

```html
<comp.feedbackAdmin />
```

It's still a work-in-progress! Just remember, unless you make changes to
`src/serve_defs.ts` to allow the list / delete endpoints to work in 
production (highly discouraged), the admin page will only work properly
when served locally.